{"severity":"info","timestamp":"2021-09-25T12:43:57.755Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [172.28.0.7]"}
{"severity":"info","timestamp":"2021-09-25T12:43:57.761Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"service oauth-api BaseURL is http://172.28.0.7:8080"}
{"severity":"info","timestamp":"2021-09-25T12:43:57.801Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"users api's hostname: 53cacf394211"}
{"severity":"info","timestamp":"2021-09-25T12:43:57.808Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"bookstore_users-api running on dev environment, ip is 172.28.0.8, port is 8081"}
{"severity":"info","timestamp":"2021-09-25T13:47:37.916Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [192.168.32.7]"}
{"severity":"info","timestamp":"2021-09-25T13:47:37.922Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"service oauth-api BaseURL is http://192.168.32.7:8080"}
{"severity":"info","timestamp":"2021-09-25T13:47:37.945Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"users api's hostname: ef1e8197c684"}
{"severity":"info","timestamp":"2021-09-25T13:47:37.947Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"bookstore_users-api running on dev environment, ip is 192.168.32.8, port is 8081"}
{"severity":"info","timestamp":"2021-09-25T14:08:54.713Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [192.168.96.7]"}
{"severity":"info","timestamp":"2021-09-25T14:08:54.714Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"service oauth-api BaseURL is http://192.168.96.7:8080"}
{"severity":"info","timestamp":"2021-09-25T14:08:54.727Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"users api's hostname: 4fa43a7d0d29"}
{"severity":"info","timestamp":"2021-09-25T14:08:54.729Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"bookstore_users-api running on dev environment, ip is 192.168.96.8, port is 8081"}
{"severity":"info","timestamp":"2021-09-25T14:17:39.002Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [192.168.96.7], error: <nil>"}
{"severity":"info","timestamp":"2021-09-25T14:31:07.349Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [192.168.112.7]"}
{"severity":"info","timestamp":"2021-09-25T14:31:07.351Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"service oauth-api BaseURL is http://192.168.112.7:8080"}
{"severity":"info","timestamp":"2021-09-25T14:31:07.366Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"users api's hostname: b51b9cb750ca"}
{"severity":"info","timestamp":"2021-09-25T14:31:07.367Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"bookstore_users-api running on dev environment, ip is 192.168.112.8, port is 8081"}
{"severity":"info","timestamp":"2021-09-25T14:37:24.839Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:45","message":"oauth api LookupHost return: [192.168.112.7], error: <nil>"}
{"severity":"error","timestamp":"2021-09-25T14:40:33.935Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69","message":"bookstore_oauth-go error {\"message\":\"no access token found for giving id\",\"status\":404,\"error\":\"not_found\",\"causes\":null}","stacktrace":"github.com/shawnzxx/bookstore_utils-go/app_logger.(*LogClass).Error\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69\ngithub.com/shawnzxx/bookstore_oauth-go/oauth.logError\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_oauth-go@v0.1.4/oauth/oauth.go:183\ngithub.com/shawnzxx/bookstore_oauth-go/oauth.AuthenticateRequest\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_oauth-go@v0.1.4/oauth/oauth.go:123\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.Get\n\t/app/controllers/users/users_controller.go:40\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1929"}
{"severity":"error","timestamp":"2021-09-25T14:40:33.940Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69","message":"bookstore_oauth-go error {\"Func\":\"ParseInt\",\"Num\":\"\",\"Err\":{}}","stacktrace":"github.com/shawnzxx/bookstore_utils-go/app_logger.(*LogClass).Error\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69\ngithub.com/shawnzxx/bookstore_oauth-go/oauth.logError\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_oauth-go@v0.1.4/oauth/oauth.go:183\ngithub.com/shawnzxx/bookstore_oauth-go/oauth.GetCallerId\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_oauth-go@v0.1.4/oauth/oauth.go:88\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.Get\n\t/app/controllers/users/users_controller.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1929"}
{"severity":"error","timestamp":"2021-09-25T14:40:33.941Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69","message":"bookstore_users-api error {\"message\":\"can not get callerId\",\"status\":401,\"error\":\"unauthorized_error\",\"causes\":null}","stacktrace":"github.com/shawnzxx/bookstore_utils-go/app_logger.(*LogClass).Error\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.logError\n\t/app/controllers/users/users_controller.go:161\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.Get\n\t/app/controllers/users/users_controller.go:49\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1929"}
{"severity":"error","timestamp":"2021-09-25T14:46:54.984Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69","message":"error when trying to save user%!(EXTRA *mysql.MySQLError=Error 1062: Duplicate entry 'shawnzhang.dev@gmail.com' for key 'email_UNIQUE')","stacktrace":"github.com/shawnzxx/bookstore_utils-go/app_logger.(*LogClass).Error\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69\ngithub.com/shawnzxx/bookstore_users-api/domain/users.(*User).Save\n\t/app/domain/users/user_dao.go:58\ngithub.com/shawnzxx/bookstore_users-api/services.(*usersService).CreateUser\n\t/app/services/users_service.go:40\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.Create\n\t/app/controllers/users/users_controller.go:29\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1929"}
{"severity":"error","timestamp":"2021-09-25T14:46:54.987Z","caller":"/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69","message":"bookstore_users-api error {\"message\":\"error when trying to save user\",\"status\":500,\"error\":\"internal_server_error\",\"causes\":[\"database error\"]}","stacktrace":"github.com/shawnzxx/bookstore_utils-go/app_logger.(*LogClass).Error\n\t/go/pkg/mod/github.com/shawnzxx/bookstore_utils-go@v0.1.2/app_logger/app_logger.go:69\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.logError\n\t/app/controllers/users/users_controller.go:161\ngithub.com/shawnzxx/bookstore_users-api/controllers/users.Create\n\t/app/controllers/users/users_controller.go:32\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2878\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1929"}
